<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‚öΩ E-Football Tournament - Custom Points Table</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f4ff;
      margin: 0;
      padding: 20px;
      color: #222;
    }
    h1, h2 {
      text-align: center;
      color: #0d47a1;
      margin-bottom: 20px;
    }
    .points-section {
      max-width: 1200px;
      margin: 0 auto 50px auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
    }
    .group-table {
      background: white;
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(13,71,161,0.2);
      width: 280px;
      padding: 20px;
      transition: transform 0.3s ease;
    }
    .group-table:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 32px rgba(13,71,161,0.35);
    }
    .group-table h3 {
      margin-top: 0;
      margin-bottom: 15px;
      color: #1565c0;
      font-size: 1.6rem;
      text-align: center;
      font-weight: 700;
      letter-spacing: 1.1px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
    }
    th, td {
      padding: 10px 8px;
      border-bottom: 1px solid #ddd;
      text-align: center;
      font-weight: 600;
    }
    th {
      background-color: #1565c0;
      color: white;
      letter-spacing: 0.05em;
    }
    tbody tr:hover {
      background-color: #e3f2fd;
    }
    /* Admin & fixtures styles */
    .admin, .fixture {
      max-width: 900px;
      margin: 0 auto 50px auto;
      background: white;
      border-radius: 15px;
      padding: 25px 30px;
      box-shadow: 0 8px 22px rgba(0,0,0,0.1);
      color: #222;
    }
    .admin input, .admin select {
      padding: 12px 15px;
      margin: 10px 12px 18px 12px;
      font-size: 1.1rem;
      border: 1.7px solid #bbb;
      border-radius: 10px;
      min-width: 150px;
      transition: border-color 0.3s ease;
    }
    .admin input:focus, .admin select:focus {
      outline: none;
      border-color: #1565c0;
      box-shadow: 0 0 10px rgba(21,101,192,0.5);
    }
    button {
      padding: 14px 32px;
      background: #1565c0;
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1.2rem;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(21,101,192,0.4);
      transition: background-color 0.3s ease;
      margin-top: 10px;
    }
    button:hover {
      background: #0d47a1;
      box-shadow: 0 8px 20px rgba(13,71,161,0.6);
    }
    #resultMsg {
      margin-top: 20px;
      font-weight: 700;
      font-size: 1.1rem;
      min-height: 2em;
      color: #0d47a1;
      text-align: center;
    }
    /* Fixtures */
    .groups-container {
      display: flex;
      flex-direction: column;
      gap: 35px;
    }
    .day-section h3 {
      font-size: 1.7rem;
      margin-bottom: 20px;
      color: #0d47a1;
      border-bottom: 3px solid #1565c0;
      padding-bottom: 8px;
      font-weight: 700;
    }
    .group-card {
      background: #f3f7ff;
      border-radius: 15px;
      padding: 18px 22px;
      box-shadow: 0 6px 22px rgba(21,101,192,0.15);
      margin-bottom: 16px;
      color: #0d47a1;
      font-weight: 600;
      font-size: 1.1rem;
    }
    .group-card h4 {
      margin: 0 0 12px 0;
      font-weight: 800;
      font-size: 1.35rem;
    }
    .group-card ul {
      padding-left: 0;
      margin: 0;
      list-style: none;
    }
    .group-card ul li {
      border-bottom: 1px solid #bbd3ff;
      padding: 10px 0;
    }
    .group-card ul li:last-child {
      border-bottom: none;
    }
  </style>
</head>
<body>
  <h1>‚öΩ E-Football Tournament</h1>

  <section class="points-section" id="pointsTables">
    <!-- Dynamic Group Tables will be inserted here -->
  </section>

  <section class="fixture">
    <h2>üóìÔ∏è Fixtures</h2>
    <div class="groups-container">
      <div class="day-section">
        <h3>üìÖ Day 1</h3>
        <div class="group-card group-a">
          <h4>üÖ∞Ô∏è Group A</h4>
          <ul>
            <li>Ezaz üÜö Arnab</li>
            <li>Ayan üÜö Salman</li>
          </ul>
        </div>
        <div class="group-card group-b">
          <h4>üÖ±Ô∏è Group B</h4>
          <ul>
            <li>Surjo üÜö Mafid</li>
            <li>Rafiul üÜö Sezan</li>
          </ul>
        </div>
        <div class="group-card group-c">
          <h4>üÜé Group C</h4>
          <ul>
            <li>Uchas üÜö Shami</li>
            <li>Yamin üÜö Rohan</li>
          </ul>
        </div>
        <div class="group-card group-d">
          <h4>üÜë Group D</h4>
          <ul>
            <li>Kakon üÜö Tusan</li>
            <li>Arman üÜö Iram</li>
          </ul>
        </div>
      </div>
      <!-- Day 2 & 3 here... same as before -->
    </div>
  </section>

  <section class="admin">
    <h2>üîê Admin Panel</h2>
    <input type="password" id="adminCode" placeholder="üîë Enter Admin Code" autocomplete="off" /><br />
    <select id="teamA" aria-label="Select Team A"></select>
    <input type="number" id="scoreA" placeholder="Score A" min="0" />
    <select id="teamB" aria-label="Select Team B"></select>
    <input type="number" id="scoreB" placeholder="Score B" min="0" />
    <br />
    <button id="submitBtn">üöÄ Submit Result</button>
    <p id="resultMsg"></p>
  </section>

  <script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbww08i4GpfL0bdVxNJq1E-K0G0eGiiXk9iD6N_OkMe88LXZFGlvEIlkeH5NGe9edbk3/exec";
    const TEAM_LIST = ["Ezaz","Arnab","Ayan","Salman","Surjo","Mafid","Rafiul","Sezan","Uchas","Shami","Yamin","Rohan","Kakon","Tusan","Arman","Iram"];

    // Example static data for points table ‚Äî replace this with API fetch!
    const samplePointsData = {
      "Group A": [
        { team: "Ezaz", played: 3, won: 2, draw: 0, lost: 1, points: 6 },
        { team: "Arnab", played: 3, won: 1, draw: 1, lost: 1, points: 4 },
        { team: "Ayan", played: 3, won: 1, draw: 0, lost: 2, points: 3 },
        { team: "Salman", played: 3, won: 1, draw: 1, lost: 1, points: 4 },
      ],
      "Group B": [
        { team: "Surjo", played: 3, won: 3, draw: 0, lost: 0, points: 9 },
        { team: "Mafid", played: 3, won: 1, draw: 1, lost: 1, points: 4 },
        { team: "Rafiul", played: 3, won: 1, draw: 0, lost: 2, points: 3 },
        { team: "Sezan", played: 3, won: 1, draw: 1, lost: 1, points: 4 },
      ],
      "Group C": [
        { team: "Uchas", played: 3, won: 2, draw: 0, lost: 1, points: 6 },
        { team: "Shami", played: 3, won: 2, draw: 0, lost: 1, points: 6 },
        { team: "Yamin", played: 3, won: 1, draw: 1, lost: 1, points: 4 },
        { team: "Rohan", played: 3, won: 0, draw: 0, lost: 3, points: 0 },
      ],
      "Group D": [
        { team: "Kakon", played: 3, won: 2, draw: 1, lost: 0, points: 7 },
        { team: "Tusan", played: 3, won: 1, draw: 0, lost: 2, points: 3 },
        { team: "Arman", played: 3, won: 1, draw: 1, lost: 1, points: 4 },
        { team: "Iram", played: 3, won: 0, draw: 0, lost: 3, points: 0 },
      ],
    };

    // Build table HTML for a group
    function buildGroupTable(groupName, data) {
      let html = `<h3>üìã ${groupName} Points Table</h3>`;
      html += `<table>
        <thead>
          <tr>
            <th>Team</th>
            <th>Played</th>
            <th>Won</th>
            <th>Draw</th>
            <th>Lost</th>
            <th>Points</th>
          </tr>
        </thead><tbody>`;
      data.forEach(row => {
        html += `<tr>
          <td>${row.team}</td>
          <td>${row.played}</td>
          <td>${row.won}</td>
          <td>${row.draw}</td>
          <td>${row.lost}</td>
          <td>${row.points}</td>
        </tr>`;
      });
      html += "</tbody></table>";
      return html;
    }

    // Render all groups on page
    function renderPointsTables(data) {
      const container = document.getElementById("pointsTables");
      container.innerHTML = "";
      for (const groupName in data) {
        const groupDiv = document.createElement("div");
        groupDiv.classList.add("group-table");
        groupDiv.innerHTML = buildGroupTable(groupName, data[groupName]);
        container.appendChild(groupDiv);
      }
    }

    // Initialize teams in admin selects
    function initAdminTeams() {
      const teamA = document.getElementById("teamA");
      const teamB = document.getElementById("teamB");
      TEAM_LIST.forEach(t => {
        teamA.innerHTML += `<option value="${t}">‚öΩ ${t}</option>`;
        teamB.innerHTML += `<option value="${t}">‚öΩ ${t}</option>`;
      });
    }

    window.onload = () => {
      // For now use sample static data:
      renderPointsTables(samplePointsData);
      initAdminTeams();
    };

    document.getElementById("submitBtn").addEventListener("click", async () => {
      const code = document.getElementById("adminCode").value.trim();
      if (code !== "292929") {
        alert("‚ùå Wrong admin code. Please try again!");
        return;
      }
      const teamA = document.getElementById("teamA").value;
      const scoreA = document.getElementById("scoreA").value.trim();
      const teamB = document.getElementById("teamB").value;
      const scoreB = document.getElementById("scoreB").value.trim();

      if (!teamA || !teamB || scoreA === "" || scoreB === "" || teamA === teamB) {
        alert("‚ö†Ô∏è Please fill all fields correctly and select different teams.");
        return;
      }

      const resultMsg = document.getElementById("resultMsg");
      resultMsg.innerText = "‚è≥ Sending result...";

      try {
        const response = await fetch(SCRIPT_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ teamA, scoreA, teamB, scoreB }),
          mode: "cors"
        });

        if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);

        const text = await response.text();
        resultMsg.innerText = "‚úÖ " + text;

        // After submission you could refetch new data from backend here to update points table if API supports

      } catch (err) {
        resultMsg.innerText = "‚ùå Network error: Failed to fetch. Please check your connection or script deployment.";
      }
    });
  </script>
</body>
</html>
