<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>âš½ E-Football Tournament</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
    }
    .fixture, .admin, .points-section {
      background: white;
      border-radius: 10px;
      padding: 15px;
      margin: 20px auto;
      max-width: 800px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      padding: 10px;
      border: 1px solid #ddd;
      text-align: center;
    }
    .admin input, .admin select {
      padding: 8px;
      margin: 5px;
    }
    button {
      padding: 10px 20px;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background: #218838;
    }
    iframe {
      width: 100%;
      height: 300px;
      border: none;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <h1>âš½ E-Football Tournament</h1>

  <div class="points-section">
    <h2>ğŸ“Š Group A</h2>
    <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQB4css0LHNZEH02H87kgwf3VkheJtYgvqMtw7C0bcGTDZ_Z4LWH4bmXhZ4C7MguGSwYuofvjQOsgyN/pubhtml?gid=0&amp;single=true&amp;widget=true&amp;headers=false"></iframe>
  </div>

  <div class="fixture">
    <h2>ğŸ—“ï¸ Fixtures</h2>
    <pre>
Day 1
ğŸ…°ï¸ Group A
Ezaz ğŸ†š Arnab
Ayan ğŸ†š Salman
ğŸ…±ï¸ Group B
Surjo ğŸ†š Mafid
Rafiul ğŸ†š Sezan
ğŸ† Group C
Uchas ğŸ†š Shami
Yamin ğŸ†š Rohan
ğŸ†‘ Group D
Kakon ğŸ†š Tusan
Arman ğŸ†š Iram

Day 2
ğŸ…°ï¸ Group A
Ezaz ğŸ†š Ayan
Arnab ğŸ†š Salman
ğŸ…±ï¸ Group B
Surjo ğŸ†š Rafiul
Mafid ğŸ†š Sezan
ğŸ† Group C
Uchas ğŸ†š Yamin
Shami ğŸ†š Rohan
ğŸ†‘ Group D
Kakon ğŸ†š Arman
Tusan ğŸ†š Iram

Day 3
ğŸ…°ï¸ Group A
Ezaz ğŸ†š Salman
Arnab ğŸ†š Ayan
ğŸ…±ï¸ Group B
Surjo ğŸ†š Sezan
Mafid ğŸ†š Rafiul
ğŸ† Group C
Uchas ğŸ†š Rohan
Shami ğŸ†š Yamin
ğŸ†‘ Group D
Kakon ğŸ†š Iram
Tusan ğŸ†š Arman
    </pre>
  </div>

  <div class="admin">
    <h2>ğŸ” Admin Panel</h2>
    <input type="password" id="adminCode" placeholder="Enter Admin Code"><br>
    <select id="teamA"></select>
    <input type="number" id="scoreA" placeholder="Score A">
    <select id="teamB"></select>
    <input type="number" id="scoreB" placeholder="Score B">
    <br><button onclick="submitResult()">Submit Result</button>
    <p id="resultMsg"></p>
  </div>

  <script>
    const TEAM_LIST = ["Ezaz","Arnab","Ayan","Salman","Surjo","Mafid","Rafiul","Sezan","Uchas","Shami","Yamin","Rohan","Kakon","Tusan","Arman","Iram"];

    window.onload = () => {
      const teamA = document.getElementById("teamA");
      const teamB = document.getElementById("teamB");
      TEAM_LIST.forEach(t => {
        teamA.innerHTML += `<option value="${t}">${t}</option>`;
        teamB.innerHTML += `<option value="${t}">${t}</option>`;
      });
    };

    async function submitResult() {
      const code = document.getElementById("adminCode").value;
      if (code !== "292929") {
        alert("âŒ Wrong admin code");
        return;
      }
      const teamA = document.getElementById("teamA").value;
      const scoreA = document.getElementById("scoreA").value;
      const teamB = document.getElementById("teamB").value;
      const scoreB = document.getElementById("scoreB").value;

      if (!teamA || !teamB || !scoreA || !scoreB || teamA === teamB) {
        alert("â—Please fill all fields correctly.");
        return;
      }

      try {
        const response = await fetch("https://script.google.com/macros/s/AKfycbww08i4GpfL0bdVxNJq1E-K0G0eGiiXk9iD6N_OkMe88LXZFGlvEIlkeH5NGe9edbk3/exec", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ teamA, scoreA, teamB, scoreB })
        });
        const text = await response.text();
        document.getElementById("resultMsg").innerText = text;
      } catch (err) {
        document.getElementById("resultMsg").innerText = "âŒ Network error: Failed to fetch";
      }
    }
  </script>
</body>
</html>
